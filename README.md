# Adwise Frontend Application

**📅 작성일:** 2025.08.16

---

## 🚀 프로젝트 개요

Adwise는 AI 기반의 광고 제작 및 분석, 그리고 수수료 비교 기능을 제공하는 웹 애플리케이션입니다. 복잡한 광고 업무를 AI가 대신하고, 데이터를 시각화하여 효율적인 광고 전략 수립을 돕습니다. 사용자 친화적인 인터페이스를 통해 광고 효율을 극대화하고 비용을 최적화할 수 있도록 지원합니다.

---

## 🛠️ 사용 기술

*   **프레임워크:** React.js (SPA 개발)
*   **번들러/개발 서버:** Vite (빠른 개발 환경 및 번들링)
*   **스타일링:** Tailwind CSS (유틸리티 우선 CSS 프레임워크)
*   **라우팅:** React Router DOM (클라이언트 측 라우팅 관리)
*   **HTTP 통신:** Axios (Promise 기반 HTTP 클라이언트)
*   **차트/데이터 시각화:** Recharts (React 기반 차트 라이브러리)
*   **파일 처리:** `react-dropzone` (드래그 앤 드롭 파일 업로드), `xlsx` (Excel 파일 파싱)
*   **아이콘:** React Icons (다양한 아이콘 라이브러리 통합)
*   **상태 관리:** React Hooks (`useState`, `useEffect`, `useRef`, `useLocation`, `useNavigate`)

---

## ✨ 핵심 기능 상세 분석

### 🏠 1. 홈 페이지 (`Home.jsx`)

*   **역할:** 애플리케이션의 첫 진입점이며, Adwise 서비스의 핵심 가치와 주요 기능을 시각적으로 매력적인 방식으로 소개합니다.
*   **주요 기능 및 UI/UX:**
    *   **시각적 구성:** 풀스크린 배경 이미지와 오버레이된 텍스트, 그리고 Tailwind CSS를 활용한 반응형 디자인으로 사용자에게 강렬한 첫인상을 제공합니다.
    *   **핵심 기능 소개:** "광고는 AI가 대신하고, 수수료는 차트로 비교해드립니다."와 같은 핵심 메시지를 통해 서비스의 목적을 명확히 전달합니다.
    *   **내비게이션:** `react-router-dom`의 `Link` 컴포넌트를 사용하여 `AI 광고제작` (`/ai`) 및 `수수료 비교&분석` (`/cash`) 페이지로의 직관적인 이동을 지원합니다.
*   **기술적 구현:**
    *   `useEffect` 훅을 사용하여 컴포넌트 마운트 시 익명 사용자 ID를 생성(`crypto.randomUUID()`)하고 `localStorage`에 저장합니다.
    *   `/api/sessions/me` 및 `/api/sessions/me/touch` API 엔드포인트와 통신하여 사용자 세션을 초기화하고 주기적으로 `lastSeen` 타임스탬프를 갱신하여 세션을 활성 상태로 유지합니다. 이는 `fetch` API를 활용한 비동기 요청으로 구현됩니다.
    *   `VITE_API_BASE_URL` 환경 변수를 통해 API 기본 URL을 유연하게 설정합니다.

### 🤖 2. AI 광고 제작 (`AI.jsx`)

*   **역할:** 사용자가 AI를 활용하여 맞춤형 광고 영상을 제작하기 위한 필수 정보를 입력하는 인터랙티브 페이지입니다.
*   **주요 기능 및 UI/UX:**
    *   **폼 입력:** 상호명(`companyName`), 해시태그(`selectedTags`), 광고 문구(`slogan`)를 입력받는 직관적인 폼 필드를 제공합니다.
    *   **해시태그 선택:** 미리 정의된 해시태그 목록(`allTags`)에서 사용자가 클릭하여 선택/해제할 수 있는 토글 버튼 그룹을 구현하여 편리성을 높였습니다.
    *   **사진 첨부:** `input type="file"`과 `useRef`를 활용하여 숨겨진 파일 입력 필드에 접근하고, PNG, JPG, JFIF 형식의 이미지 파일을 첨부할 수 있으며, 첨부된 파일 목록을 실시간으로 표시합니다.
    *   **사용자 피드백:**
        *   "실행하기" 버튼 클릭 시, 입력된 정보를 요약하여 사용자에게 최종 확인을 요청하는 모달(`showConfirm`)이 나타납니다.
        *   확인 후에는 `LoadingScreen` 컴포넌트를 통해 "사장님의 광고를 제작 중이에요."와 같은 개인화된 메시지와 함께 시각적인 로딩 애니메이션을 제공하여 대기 시간을 인지시킵니다.
    *   **내비게이션:** `useNavigate` 훅을 사용하여 광고 생성 완료 후 `/ai-result` 페이지로 이동하며, `state` 객체를 통해 생성된 영상 URL 및 입력 메타데이터를 전달합니다.
*   **기술적 구현:**
    *   `useState` 훅을 사용하여 폼 필드 값(`companyName`, `slogan`, `selectedTags`, `files`) 및 UI 상태(`showConfirm`, `showLoading`)를 관리합니다.
    *   `useRef`를 사용하여 숨겨진 파일 입력 필드에 접근하고, `handlePickFiles` 함수에서 파일 유효성 검사(이미지 타입)를 수행합니다.
    *   `TODO` 주석으로 Open-Sora API와의 실제 연동을 위한 확장 지점을 명시했습니다. 현재는 `setTimeout`을 이용한 데모용 지연으로 동작합니다.

### 🎬 3. AI 광고 결과 (`AI_RESULT.jsx`)

*   **역할:** AI 광고 제작 페이지(`AI.jsx`)에서 생성된 광고 영상의 결과물을 사용자에게 보여주고, 추가적인 액션을 취할 수 있도록 하는 페이지입니다.
*   **주요 기능 및 UI/UX:**
    *   **영상 플레이어:** `video` 태그를 사용하여 생성된 광고 영상을 직접 재생할 수 있도록 하며, 컨트롤 바와 포스터 이미지를 제공합니다. 모바일 기기에서도 최적화된 `playsInline` 속성을 사용합니다.
    *   **반응형 디자인:** Tailwind CSS를 활용하여 다양한 화면 크기에서 비디오 플레이어가 적절하게 표시되도록 반응형 너비(`w-[min(85vw,280px)]` 등)를 적용했습니다.
    *   **액션 버튼:**
        *   "저장하기": `a` 태그의 `download` 속성을 활용하여 생성된 영상 파일을 사용자의 로컬 기기에 직접 다운로드할 수 있도록 합니다.
        *   "다시 만들기": `Link` 컴포넌트를 통해 `/ai` 페이지로 쉽게 돌아가 새로운 광고를 제작할 수 있는 버튼을 제공합니다.
*   **기술적 구현:**
    *   `react-router-dom`의 `useLocation` 훅을 사용하여 이전 페이지(`AI.jsx`)에서 `state`로 전달된 `videoUrl` 및 `thumbs` 데이터를 안전하게 수신합니다.
    *   `useEffect` 훅을 사용하여 `videoUrl`이 유효하지 않을 경우(`null` 또는 `undefined`), `useNavigate` 훅을 통해 사용자를 `/ai` 페이지로 즉시 리디렉션하여 잘못된 접근을 방지합니다.

### 💬 4. AI 챗봇 (`CHAT.jsx`)

*   **역할:** AI 챗봇과의 대화를 통해 사용자 문의에 응답하고, 서비스 관련 정보를 제공하는 인터랙티브 채팅 페이지입니다.
*   **주요 기능 및 UI/UX:**
    *   **대화형 채팅:** AI와 실시간으로 질문하고 답변을 받을 수 있는 대화 인터페이스를 제공합니다.
    *   **빠른 FAQ:** 자주 묻는 질문에 대한 버튼을 제공하여 사용자가 쉽고 빠르게 정보를 얻을 수 있도록 돕습니다.
    *   **자동 스크롤:** 새로운 메시지가 추가될 때마다 채팅창이 자동으로 최신 대화로 스크롤되어 사용자가 항상 최신 내용을 확인할 수 있습니다.
    *   **오류 안내:** 메시지 전송 실패 또는 AI 응답 오류 발생 시 사용자에게 즉시 시각적인 알림을 제공합니다.
    *   **사용자 친화적 디자인:** 어두운 테마와 커스텀 스크롤바를 적용하여 시각적인 편안함과 일관된 브랜드 경험을 제공합니다.

### 📊 5. 광고 성과 대시보드 (`CHART_RESULT.jsx`)

*   **역할:** 사용자가 업로드한 데이터를 기반으로 광고 성과 지표를 시각적으로 분석하고 요약하여 보여주는 대시보드 페이지입니다.
*   **주요 기능 및 UI/UX:**
    *   **주요 지표 시각화:** `Recharts` 라이브러리를 활용하여 CPC(클릭당 비용), CVR(전환율), ROAS(광고 수익률), ROI(투자 수익률) 등 핵심 광고 지표를 다양한 차트(선 그래프, 막대 그래프 등)로 표시하여 데이터의 추이와 관계를 한눈에 파악할 수 있도록 합니다.
    *   **플랫폼/월별 전환:** 플랫폼별 및 월별 광고 성과 추이를 요약하고 상세 데이터를 제공하여 다각적인 분석을 가능하게 합니다.
    *   **AI 분석 요약:** 복잡한 데이터를 AI가 자동으로 분석하여 핵심 인사이트를 텍스트로 요약 제공함으로써, 사용자가 데이터의 의미를 쉽게 이해하도록 돕습니다.
    *   **지표 정의 및 목표 안내:** 각 지표의 의미와 권장 목표에 대한 설명을 제공하여 사용자의 데이터 이해도를 높입니다.
    *   **데이터 포맷팅:** `원` 또는 `%` 단위로 데이터를 포맷팅하여 가독성을 극대화하고, 재무 데이터를 명확하게 전달합니다.
    *   **데이터 없음 처리:** 분석할 데이터가 없을 경우 사용자에게 친절한 안내 메시지를 표시하고, 이전 페이지로 돌아갈 수 있는 버튼을 제공하여 원활한 사용자 흐름을 유지합니다.

### 💰 6. 수수료 비교 & 분석 (`CASH.jsx`)

*   **역할:** 사용자가 광고 수수료 관련 데이터를 업로드하고 분석하여 플랫폼별 수수료를 비교하고 효율적인 광고 전략을 수립할 수 있도록 돕는 페이지입니다.
*   **주요 기능 및 UI/UX:**
    *   **사용자 정보 입력:** 이름, 상호명 등 분석에 필요한 기본 사용자 정보를 입력받습니다.
    *   **파일 업로드:** `react-dropzone` 컴포넌트를 활용하여 엑셀(.xlsx/.xls) 및 CSV(.csv) 파일의 드래그 앤 드롭 업로드를 지원하며, 직관적인 인터페이스를 제공합니다.
    *   **데이터 처리:**
        *   업로드된 파일은 `xlsx` 라이브러리를 사용하여 파싱되고 JSON 형식으로 변환됩니다.
        *   날짜 형식 변환, 플랫폼 이름 정규화 등 데이터 전처리 과정을 거쳐 분석에 적합한 형태로 가공됩니다.
        *   CPC, CVR, ROAS, ROI 등 핵심 지표를 계산합니다.
    *   **사용자 피드백:** 파일 업로드 및 데이터 처리 중에는 로딩 피드백과 함께 "사장님의 데이터를 분석 중이에요."와 같은 개인화된 메시지를 표시하여 사용자의 대기 경험을 개선합니다.
    *   **결과 페이지 이동:** 데이터 분석이 완료되면 `useNavigate` 훅을 통해 `/chart-result` 페이지로 자동으로 이동하여 분석 결과를 즉시 확인할 수 있도록 합니다.
    *   **데이터 보호:** 사용자가 작성 중인 내용이 저장되지 않은 상태에서 페이지를 이탈하려고 할 경우 경고 메시지를 표시하여 데이터 손실을 방지합니다.
    *   **오류 안내:** 파일 업로드, 파싱, 데이터 분석 과정에서 문제가 발생할 경우 사용자에게 명확한 알림 메시지를 제공하여 문제 해결을 돕습니다.

### 🛠️ 7. 지표 유틸리티 (`src/utils/metrics.js`)

*   **역할:** 애플리케이션 전반에서 사용되는 광고 성과 지표의 정의, 데이터 포맷팅, 플랫폼 정규화 및 복잡한 데이터 분석 로직을 포함하는 핵심 유틸리티 파일입니다.
*   **주요 기능:**
    *   **지표 설정:** 각 광고 지표(예: CPC, ROAS)에 대한 이름, 아이콘, 목표 값, 요약 설명 등을 구조화된 형태로 정의하여 일관된 데이터 관리를 가능하게 합니다.
    *   **데이터 포맷팅:** 숫자 데이터를 통화(원화) 또는 백분율 형식으로 변환하는 함수를 제공하여, 사용자 인터페이스에서 데이터의 가독성을 높이고 명확하게 전달합니다.
    *   **플랫폼 정규화:** 다양한 형태로 입력될 수 있는 광고 플랫폼 이름(예: "네이버", "NAVER")을 일관된 내부 형식으로 변환하여 데이터 통합 및 분석의 정확성을 보장합니다.
    *   **데이터 분석 엔진:** 원시 광고 데이터를 입력받아, 정의된 지표들을 계산하고, 이를 플랫폼별 및 월별로 요약하여 `Recharts`와 같은 차트 라이브러리에서 바로 사용할 수 있는 구조화된 데이터 형태로 반환하는 핵심 로직을 수행합니다. 이는 복잡한 데이터 변환 과정을 추상화하여 다른 컴포넌트에서 쉽게 재사용할 수 있도록 합니다.
